# 検証結果報告書

チャットアプリケーションの実装と検証が完了しました。

## 実装機能の確認
以下の要件が満たされていることを確認しました。

1. **環境構築**
   - [x] Docker (PHP 8.3, Apache 2.4) がポート 8081 で起動中。
   - [x] PostgreSQL 16 がポート 5433 で起動中。
   - [x] `src/lib/Database.php` にて PDO 接続を確認。

2. **チャット機能**
   - [x] **送信/受信**: Ajax ポーリングにより、別ユーザーからのメッセージが自動的に表示されることを確認。
   - [x] **履歴保存**: ページを再読み込みしてもメッセージ履歴が復元されることを確認。
   - [x] **未読管理**: サイドバーに未読バッジが表示され、チャットを開くと既読になることを確認。
   - [x] **通知**: `Notification` API の権限リクエストと発火ロジックを実装済み。

3. **編集・削除**
   - [x] **編集**: メッセージの編集機能を確認。相手側にもリアルタイムで「(編集済み)」と反映される。
   - [x] **削除**: メッセージの論理削除を確認。メッセージ内容が「削除されました」に置き換わる。

## 動作確認レコーディング

![Chat Verification Flow](chat_verification_1768179327809.webp)

## 今後の拡張性
- 現在はポーリング間隔を 3秒 に設定していますが、負荷に応じて調整可能です。
- ユーザー認証は簡易実装のため、本番運用の際はセッション管理等の強化を推奨します。

## アクセス方法
`http://localhost:8081/public/index.php` にアクセスして動作確認を行ってください。
